{"version":3,"sources":["util.js","meshes/falcon-heavy.js","meshes/earth.js","meshes/iss.js","meshes/equator.js","setup.js","App.js","serviceWorker.js","index.js","img/earth-texture-8k.jpg"],"names":["GEOSTATIONARY_RADIUS","ISS_ORBIT_RADIUS","degToRad","deg","Math","PI","latToPolar","lat","fhMesh","GLTFLoader","load","gltf","scene","children","scale","multiplyScalar","position","setFromSphericalCoords","lookAt","rotation","y","z","add","xhr","error","console","log","texture","THREE","loadTexture","earthTexture","offset","wrapS","earthGeometry","earthMaterial","map","earthMesh","customMaterial","uniforms","c","type","value","p","glowColor","viewVector","vertexShader","fragmentShader","side","blending","transparent","earthGlowMesh","EARTH_RADIUS","clone","issGeometry","issMaterial","color","issMesh","issPathGeometry","issPathMaterial","issPathMesh","history","updateIss","window","fetch","then","res","json","_ref","_ref$iss_position","iss_position","latitude","longitude","push","length","unshift","points","getPoints","setFromPoints","attributes","needsUpdate","setInterval","geometry","material","linewidth","dashSize","gapSize","equatorMesh","computeLineDistances","x","OrbitControls","OrbitControlsPackage","camera","innerWidth","innerHeight","renderer","antialias","alpha","preserveDrawingBuffer","gammaInput","gammaOutput","setSize","setClearColor","controls","enableDamping","rotateSpeed","autoRotate","autoRotateSpeed","dampingFactor","enablePan","maxDistance","minDistance","addEventListener","aspect","updateProjectionMatrix","document","body","e","preventDefault","ambLight","dirLight","animate","update","phi","getAzimuthalAngle","theta","getPolarAngle","dist","sqrt","pow","set","subVectors","clear","render","requestAnimationFrame","App","state","this","renderContainer","appendChild","domElement","_this2","react_default","a","createElement","className","ref","node","Component","Boolean","location","hostname","match","ReactDOM","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister","vh","documentElement","style","setProperty","concat","module","exports","__webpack_require__"],"mappings":"8RACaA,EAAuB,OACvBC,EAFe,MAEmB,KAExC,SAASC,EAASC,GACvB,OAAQA,EAAM,IAAOC,KAAKC,GAGrB,SAASC,EAAWC,GACzB,OAAO,GAAKA,MCDHC,UAFI,WAAIC,IAGZC,KACL,oBAEA,SAASC,IACPH,EAASG,EAAKC,MAAMC,SAAS,IACtBC,MAAMC,eAAe,KAC5BP,EAAOQ,SAASC,uBDfQ,MCgBP,KACff,EAASI,EAAW,YACpBJ,GAAU,YAGZM,EAAOU,OAAO,EAAG,EAAG,GACpBV,EAAOW,SAASC,GAAKhB,KAAKC,GAC1BG,EAAOW,SAASE,GAAK,KAAOjB,KAAKC,GASjCO,EAAMU,IAAId,IAEZ,SAASe,KAGT,SAASC,GACPC,QAAQC,IAAI,2CCjCVC,EAAUC,aAAiBC,YAAYC,KAC7CH,EAAQI,OAAS,IAAIH,UAAc,IAAM,GACzCD,EAAQK,MAAQJ,iBAChB,IAAMK,EAAgB,IAAIL,iBFRE,MEQiC,GAAI,IAC3DM,EAAgB,IAAIN,oBAAwB,CAChDO,IAAKR,IAEMS,EAAY,IAAIR,OAAWK,EAAeC,GAGjDG,EAAiB,IAAIT,iBAAqB,CAC9CU,SAAU,CACRC,EAAG,CAAEC,KAAM,IAAKC,MAAO,IACvBC,EAAG,CAAEF,KAAM,IAAKC,MAAO,GACvBE,UAAW,CAAEH,KAAM,IAAKC,MAAO,IAAIb,QAAY,WAC/CgB,WAAY,CAAEJ,KAAM,KAAMC,MAAO,IAEnCI,aAAY,ybAaZC,eAAc,4MAQdC,KAAMnB,WACNoB,SAAUpB,mBACVqB,aAAa,IAEFC,EAAgB,IAAItB,OAC/B,IAAIA,iBAAqBuB,OAAoB,GAAI,IACjDd,EAAee,SC9CXC,EAAc,IAAIzB,iBAAqB,IAAM,GAAI,IACjD0B,EAAc,IAAI1B,oBAAwB,CAAE2B,MAAO,IAC5CC,EAAU,IAAI5B,OAAWyB,EAAaC,GAE7CG,EAAkB,IAAI7B,iBACtB8B,EAAkB,IAAI9B,oBAAwB,CAAE2B,MAAO,WAChDI,EAAc,IAAI/B,OAAW6B,EAAiBC,GAErDE,EAAU,GAChB,SAASC,IACPC,OACGC,MAAM,2CACNC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAG,GAA+C,IAAAC,EAAAD,EAA5CE,aAAgBC,EAA4BF,EAA5BE,SAAUC,EAAkBH,EAAlBG,UAkBjC,GAjBAf,EAAQxC,SAASC,uBACfhB,EACAC,EAASI,EAAWgE,IACpBpE,EAASqE,IAIXX,EAAQY,MACN,IAAI5C,WAAgBX,uBAClBhB,EACAC,EAASI,EAAWgE,IACpBpE,EAASqE,KAGTX,EAAQa,OAAS,KACnBb,EAAQc,UAENd,EAAQa,OAAS,EAAG,CACtB,IACME,EADQ,IAAI/C,mBAAuBgC,GACpBgB,UAAU,KAC/BnB,EAAgBoB,cAAcF,GAC9BlB,EAAgBqB,WAAW9D,SAAS+D,aAAc,KAK1DjB,OAAOkB,YAAYnB,EAAW,KAC9BA,ICxCA,IAUMc,EAVQ,IAAI/C,eAChB,EACA,EACAuB,OACAA,OACA,EACA,EAAI/C,KAAKC,IACT,EACAD,KAAKC,GAAK,GAESuE,UAAU,KACzBK,GAAW,IAAIrD,kBAAuBiD,cAAcF,GACpDO,EAAW,IAAItD,qBAAyB,CAC5C2B,MAAO,SACP4B,UAAW,EACXrE,MAAO,EACPsE,SAAU,GACVC,QAAS,MAEEC,EAAc,IAAI1D,OAAWqD,EAAUC,GACpDI,EAAYC,uBACZD,EAAYnE,SAASqE,GAAKpF,KAAKC,GAAK,ECfpC,IAAMoF,EAAgBC,IAAqB9D,GAC9BhB,EAAQ,IAAIgB,QACZ+D,EAAS,IAAI/D,oBACxB,GACAkC,OAAO8B,WAAa9B,OAAO+B,YAC3B,GACA,KAGFF,EAAO3E,SAASC,uBAAuBjB,EAAsBE,EAASI,EAAW,IAAKJ,EAAS,IAExF,IAAM4F,EAAW,IAAIlE,gBAAoB,CAC9CmE,WAAW,EACXC,OAAO,EACPC,uBAAuB,IAEzBH,EAASI,YAAa,EACtBJ,EAASK,aAAc,EACvBL,EAASM,QAA4B,EAApBtC,OAAO8B,WAAqC,EAArB9B,OAAO+B,aAE/CC,EAASO,cAAc,UAChB,IAAMC,EAAW,IAAIb,EAAcE,GAC1CW,EAASC,eAAgB,EACzBD,EAASE,YAAc,GACvBF,EAASG,YAAa,EACtBH,EAASI,gBAAkB,IAC3BJ,EAASK,cAAgB,IACzBL,EAASM,WAAY,EACrBN,EAASO,YAAqC,EAAvB7G,EACvBsG,EAASQ,YAAc9G,EAAuB,EAQ9C8D,OAAOiD,iBAAiB,SALxB,WACEjB,EAASM,QAA4B,EAApBtC,OAAO8B,WAAqC,EAArB9B,OAAO+B,aAC/CF,EAAOqB,OAASlD,OAAO8B,WAAa9B,OAAO+B,YAC3CF,EAAOsB,2BAEuC,GAGhDC,SAASC,KAAKJ,iBAAiB,YAAa,SAASK,GACnDA,EAAEC,mBAIJ,IAAMC,EAAW,IAAI1F,eAAmB,UAExChB,EAAMU,IAAIgG,GACV,IAAMC,EAAW,IAAI3F,mBAAuB,SAAU,GACtDhB,EAAMU,IAAIiG,GAGV3G,EAAMU,IAAIc,GACVxB,EAAMU,IAAI4B,GACVtC,EAAMU,IAAIkC,GACV5C,EAAMU,IAAIqC,GACV/C,EAAMU,IAAIgE,GAEV,SAASkC,IACPlB,EAASmB,SACT,IAAMC,EAAMpB,EAASqB,oBACfC,EAAQtB,EAASuB,gBAEvB,GAAIrH,EAAQ,CACV,IAAMsH,EAAO1H,KAAK2H,KAAK3H,KAAA4H,IAAArC,EAAO3E,SAASwE,EAAK,GAArBpF,KAAA4H,IAAyBrC,EAAO3E,SAASI,EAAK,GAA9ChB,KAAA4H,IAAkDrC,EAAO3E,SAASK,EAAK,IAExFP,EAAQV,KAAA4H,IAAAF,EAAQ,KAAOxB,EAASO,YAAcP,EAASQ,aAAe,GAC5EtG,EAAOM,MAAMmH,IAAInH,EAAOA,EAAOA,GAGjCyG,EAASvG,SAASC,uBAAuBjB,EAAsB4H,EAAQ,GAAKF,EAAM,IAClFxE,EAAcgC,SAAS5C,SAASM,WAAWH,OAAQ,IAAIb,WAAgBsG,WACrEvC,EAAO3E,SACPkC,EAAclC,UAGhB8E,EAASqC,QACTrC,EAASsC,OAAOxH,EAAO+E,GACvB0C,sBAAsBb,GAExBA,OCnEec,6MAlBbC,MAAQ,CACNzC,SAAU,yFAKV0C,KAAKC,gBAAgBC,YAAY5C,EAAS6C,6CAGnC,IAAAC,EAAAJ,KACP,OACEK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBC,IAAK,SAAAC,GAAI,OAAKN,EAAKH,gBAAkBS,aAb7DC,aCQEC,QACW,cAA7BtF,OAAOuF,SAASC,UAEe,UAA7BxF,OAAOuF,SAASC,UAEhBxF,OAAOuF,SAASC,SAASC,MACvB,2DCZNC,IAASpB,OAAOS,EAAAC,EAAAC,cAACU,EAAD,MAASvC,SAASwC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM7F,KAAK,SAAA8F,GACjCA,EAAaC,eCrHnB,IAAIC,EAA0B,IAArBlG,OAAO+B,YAChBqB,SAAS+C,gBAAgBC,MAAMC,YAAY,OAA3C,GAAAC,OAAsDJ,EAAtD,0BCfAK,EAAAC,QAAiBC,EAAA7H,EAAuB","file":"static/js/main.9cc31b9b.chunk.js","sourcesContent":["export const EARTH_RADIUS = 6371 / 1000\nexport const GEOSTATIONARY_RADIUS = 42164 / 1000\nexport const ISS_ORBIT_RADIUS = EARTH_RADIUS + 408 / 1000\n\nexport function degToRad(deg) {\n  return (deg / 180) * Math.PI\n}\n\nexport function latToPolar(lat) {\n  return 90 - lat\n}\n","import GLTFLoader from 'three-gltf-loader'\nimport { degToRad, latToPolar, EARTH_RADIUS } from '../util'\n\nimport { scene, camera } from '../setup'\n\n// Falcon Heavy\nconst loader = new GLTFLoader()\n\nexport let fhMesh\nloader.load(\n  '/falcon-heavy.glb',\n\n  function(gltf) {\n    fhMesh = gltf.scene.children[0]\n    fhMesh.scale.multiplyScalar(0.01)\n    fhMesh.position.setFromSphericalCoords(\n      EARTH_RADIUS + 118 / 1000,\n      degToRad(latToPolar(28.608397)),\n      degToRad(-80.604345)\n    )\n\n    fhMesh.lookAt(0, 0, 0)\n    fhMesh.rotation.y += Math.PI\n    fhMesh.rotation.z += 1.72 * Math.PI\n\n    // fhMesh.position.x -= 1\n\n    // TODO - increase brightness of FH model\n    // clues as to how: https://github.com/mrdoob/three.js/issues/12554\n    // these work, but leave the earth looking washed out:\n    // renderer.gammaFactor = 2.2\n    // renderer.gammaOutput = true\n    scene.add(fhMesh)\n  },\n  function(xhr) {\n    // console.log((xhr.loaded / xhr.total) * 100 + '% loaded')\n  },\n  function(error) {\n    console.log('An error happened')\n  }\n)\n","import * as THREE from 'three'\nimport earthTexture from '../img/earth-texture-8k.jpg'\nimport { EARTH_RADIUS } from '../util'\n\n// Earth\nconst texture = THREE.ImageUtils.loadTexture(earthTexture)\ntexture.offset = new THREE.Vector2(0.25, 0)\ntexture.wrapS = THREE.RepeatWrapping\nconst earthGeometry = new THREE.SphereGeometry(EARTH_RADIUS, 64, 64)\nconst earthMaterial = new THREE.MeshPhongMaterial({\n  map: texture\n})\nexport const earthMesh = new THREE.Mesh(earthGeometry, earthMaterial)\n\n// Earth glow - derived from http://stemkoski.github.io/Three.js/Shader-Glow.html\nconst customMaterial = new THREE.ShaderMaterial({\n  uniforms: {\n    c: { type: 'f', value: 0.4 },\n    p: { type: 'f', value: 6 },\n    glowColor: { type: 'c', value: new THREE.Color(0xd4ffed) },\n    viewVector: { type: 'v3', value: 0 }\n  },\n  vertexShader: `\n        uniform vec3 viewVector;\n        uniform float c;\n        uniform float p;\n        varying float intensity;\n        void main()\n        {\n          vec3 vNormal = normalize( normalMatrix * normal );\n          vec3 vNormel = normalize( normalMatrix * viewVector );\n          intensity = pow( c - dot(vNormal, vNormel), p );\n\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }`,\n  fragmentShader: `\n        uniform vec3 glowColor;\n        varying float intensity;\n        void main()\n        {\n          vec3 glow = glowColor * intensity;\n          gl_FragColor = vec4( glow, 1.0 );\n        }`,\n  side: THREE.BackSide,\n  blending: THREE.AdditiveBlending,\n  transparent: true\n})\nexport const earthGlowMesh = new THREE.Mesh(\n  new THREE.SphereGeometry(EARTH_RADIUS * 1.2, 64, 64),\n  customMaterial.clone()\n)\n","import * as THREE from 'three'\nimport { degToRad, latToPolar, ISS_ORBIT_RADIUS } from '../util'\n\nconst issGeometry = new THREE.SphereGeometry(0.02, 40, 40)\nconst issMaterial = new THREE.MeshPhongMaterial({ color: 0x000000 })\nexport const issMesh = new THREE.Mesh(issGeometry, issMaterial)\n\nconst issPathGeometry = new THREE.BufferGeometry()\nconst issPathMaterial = new THREE.LineBasicMaterial({ color: 0xff0000 })\nexport const issPathMesh = new THREE.Line(issPathGeometry, issPathMaterial)\n\nconst history = []\nfunction updateIss() {\n  window\n    .fetch('http://api.open-notify.org/iss-now.json')\n    .then(res => res.json())\n    .then(({ iss_position: { latitude, longitude } }) => {\n      issMesh.position.setFromSphericalCoords(\n        ISS_ORBIT_RADIUS,\n        degToRad(latToPolar(latitude)),\n        degToRad(longitude)\n      )\n\n      // Update path\n      history.push(\n        new THREE.Vector3().setFromSphericalCoords(\n          ISS_ORBIT_RADIUS,\n          degToRad(latToPolar(latitude)),\n          degToRad(longitude)\n        )\n      )\n      if (history.length > 500) {\n        history.unshift()\n      }\n      if (history.length > 2) {\n        const curve = new THREE.CatmullRomCurve3(history)\n        const points = curve.getPoints(500)\n        issPathGeometry.setFromPoints(points)\n        issPathGeometry.attributes.position.needsUpdate = true\n      }\n    })\n}\n\nwindow.setInterval(updateIss, 5000)\nupdateIss()\n\n// TODO load full 3D Model below, but lower vertex count - performance is terrible with current model\n// let issMesh\n// loader.load(\n//   '/iss.glb',\n\n//   function(gltf) {\n//     issMesh = gltf.scene.children[0]\n//     issMesh.scale.multiplyScalar(0.0005)\n//     issMesh.position.setFromSphericalCoords(\n//       EARTH_RADIUS + 118 / 1000,\n//       degToRad(latToPolar(28.608397)),\n//       degToRad(-80.604345)\n//     )\n//     // issMesh.lookAt(new THREE.Vector3(0, 0, 0))\n//     scene.add(issMesh)\n\n//     function updateIss() {\n//       window\n//         .fetch('http://api.open-notify.org/iss-now.json')\n//         .then(res => res.json())\n//         .then(({ iss_position: { latitude, longitude } }) =>\n//           issMesh.position.setFromSphericalCoords(\n//             ISS_RADIUS,\n//             degToRad(latToPolar(latitude)),\n//             degToRad(longitude)\n//           )\n//         )\n//     }\n//     updateIss()\n//     window.setInterval(updateIss, 5000)\n\n//     // gltf.animations // Array<THREE.AnimationClip>\n//     // gltf.scene // THREE.Scene\n//     // gltf.scenes // Array<THREE.Scene>\n//     // gltf.cameras // Array<THREE.Camera>\n//     // gltf.asset // Object\n//   },\n//   function(xhr) {\n//     console.log((xhr.loaded / xhr.total) * 100 + '% loaded')\n//   },\n//   function(error) {\n//     console.log('An error happened')\n//   }\n// )\n","import * as THREE from 'three'\nimport { EARTH_RADIUS } from '../util'\n\n// Equator\nconst curve = new THREE.EllipseCurve(\n  0, // aX\n  0, // aY\n  EARTH_RADIUS + 0.0001, // xRadius\n  EARTH_RADIUS + 0.0001, // yRadius\n  0, // aStartAngle,\n  2 * Math.PI, // aEndAngle\n  false, // aClockwise\n  Math.PI / 2 // aRotation\n)\nconst points = curve.getPoints(200)\nconst geometry = new THREE.BufferGeometry().setFromPoints(points)\nconst material = new THREE.LineDashedMaterial({\n  color: 0xff4444,\n  linewidth: 3,\n  scale: 1,\n  dashSize: 0.1,\n  gapSize: 0.07\n})\nexport const equatorMesh = new THREE.Line(geometry, material)\nequatorMesh.computeLineDistances()\nequatorMesh.rotation.x += Math.PI / 2\n","import * as THREE from 'three'\nimport OrbitControlsPackage from 'three-orbit-controls'\nimport { degToRad, latToPolar, GEOSTATIONARY_RADIUS } from './util'\n\nimport { fhMesh } from './meshes/falcon-heavy'\nimport { earthMesh, earthGlowMesh } from './meshes/earth'\nimport { issMesh, issPathMesh } from './meshes/iss'\nimport { equatorMesh } from './meshes/equator'\n\n// Setup\nconst OrbitControls = OrbitControlsPackage(THREE)\nexport const scene = new THREE.Scene()\nexport const camera = new THREE.PerspectiveCamera(\n  20, // FOV\n  window.innerWidth / window.innerHeight, // Aspect Ratio\n  0.1, // Near Field\n  500000 // Far Field\n)\n\ncamera.position.setFromSphericalCoords(GEOSTATIONARY_RADIUS, degToRad(latToPolar(0)), degToRad(0))\n\nexport const renderer = new THREE.WebGLRenderer({\n  antialias: true,\n  alpha: true,\n  preserveDrawingBuffer: true\n})\nrenderer.gammaInput = true\nrenderer.gammaOutput = true\nrenderer.setSize(window.innerWidth * 2, window.innerHeight * 2)\n\nrenderer.setClearColor(0x99c3e2)\nexport const controls = new OrbitControls(camera)\ncontrols.enableDamping = true\ncontrols.rotateSpeed = 0.4\ncontrols.autoRotate = true\ncontrols.autoRotateSpeed = 0.25\ncontrols.dampingFactor = 0.35\ncontrols.enablePan = false\ncontrols.maxDistance = GEOSTATIONARY_RADIUS * 2\ncontrols.minDistance = GEOSTATIONARY_RADIUS / 2\n\n// For fixing aspect ratio after resizing\nfunction resizeCanvas() {\n  renderer.setSize(window.innerWidth * 2, window.innerHeight * 2)\n  camera.aspect = window.innerWidth / window.innerHeight\n  camera.updateProjectionMatrix()\n}\nwindow.addEventListener('resize', resizeCanvas, false)\n\n// For removing iOS Safari \"rubber-banding\"\ndocument.body.addEventListener('touchmove', function(e) {\n  e.preventDefault()\n})\n\n// Lighting\nconst ambLight = new THREE.AmbientLight(0xaaaaaa)\n// const ambLight = new THREE.AmbientLight(0x454545)\nscene.add(ambLight)\nconst dirLight = new THREE.DirectionalLight(0xffffff, 1)\nscene.add(dirLight)\n\n// Add meshes\nscene.add(earthMesh)\nscene.add(earthGlowMesh)\nscene.add(issMesh)\nscene.add(issPathMesh)\nscene.add(equatorMesh)\n\nfunction animate() {\n  controls.update()\n  const phi = controls.getAzimuthalAngle()\n  const theta = controls.getPolarAngle()\n\n  if (fhMesh) {\n    const dist = Math.sqrt(camera.position.x ** 2 + camera.position.y ** 2 + camera.position.z ** 2)\n\n    const scale = dist ** 0.9 / (controls.maxDistance - controls.minDistance) / 60\n    fhMesh.scale.set(scale, scale, scale)\n  }\n\n  dirLight.position.setFromSphericalCoords(GEOSTATIONARY_RADIUS, theta - 0.5, phi - 0.5)\n  earthGlowMesh.material.uniforms.viewVector.value = new THREE.Vector3().subVectors(\n    camera.position,\n    earthGlowMesh.position\n  )\n\n  renderer.clear()\n  renderer.render(scene, camera)\n  requestAnimationFrame(animate)\n}\nanimate()\n","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport { renderer } from './setup'\r\n\r\nclass App extends Component {\r\n  state = {\r\n    renderer: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    // mount the canvas\r\n    this.renderContainer.appendChild(renderer.domElement)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"render-container\" ref={node => (this.renderContainer = node)} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n\r\n// vh hack for mobile safari https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\r\nlet vh = window.innerHeight * 0.01\r\ndocument.documentElement.style.setProperty('--vh', `${vh}px`)\r\n","module.exports = __webpack_public_path__ + \"static/media/earth-texture-8k.9499217d.jpg\";"],"sourceRoot":""}